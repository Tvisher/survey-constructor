(function(){"use strict";var t={9210:function(t,e,n){var o=n(9242),i=n(3396);function a(t,e,n,o,a,l){const p=(0,i.up)("InnerContent");return(0,i.wg)(),(0,i.j4)(p)}const l={class:"container"},p={class:"app-container"},r={class:"polls-container"},s={class:"poll-pages"},d={class:"poll-list-sidebar"},u={class:"poll-list-sidebar__wrapper"};function c(t,e,n,o,a,c){const m=(0,i.up)("polls-pages-pagination"),I=(0,i.up)("poll-page"),g=(0,i.up)("sidebar-item");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",p,[(0,i._)("div",r,[(0,i.Wm)(m,{pollPagesList:t.pollPagesList,currentPageId:t.currentPageId},null,8,["pollPagesList","currentPageId"]),(0,i._)("div",s,[(0,i.Wm)(I,{currenPage:c.currentPollPage,currenPageNumber:c.currenPageNumber},null,8,["currenPage","currenPageNumber"])])]),(0,i._)("div",d,[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.pollTypesList,((t,e)=>((0,i.wg)(),(0,i.j4)(g,{key:e,name:t.typeName,type:t.type},null,8,["name","type"])))),128))])])])])}var m=n(7139);const I={class:"sidebar-item__wrapper"},g=(0,i._)("div",{class:"sidebar-item__ico"},null,-1),v={class:"sidebar-item__name"};function h(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,m.C_)(["sidebar-item",n.type])},[(0,i._)("div",I,[g,(0,i._)("div",v,(0,m.zw)(n.name),1)]),(0,i._)("div",{class:"sidebar-item__btn",onClick:e[0]||(e[0]=e=>t.addPollInState(n.type))})],2)}var P=n(65),y={props:{name:{type:String},type:{type:String}},methods:{...(0,P.OI)(["addPollInState"])}},_=n(89);const O=(0,_.Z)(y,[["render",h]]);var w=O,b=n.p+"img/add-ico.8c273e4e.svg";const f=t=>((0,i.dD)("data-v-439a458c"),t=t(),(0,i.Cn)(),t),D={class:"poll-page-head"},L={class:"poll-page-number"},V={class:"poll-page-comment"},N=["value"],C={key:0,class:"poll-page-zone"},T=f((()=>(0,i._)("img",{class:"poll-page-zone__image",src:b,alt:""},null,-1))),k=f((()=>(0,i._)("span",null,"Перенесите нужный вам тип вопроса в эту",-1))),S=f((()=>(0,i._)("span",null,"область страницы",-1))),x=[T,k,S];function A(t,e,n,o,a,l){const p=(0,i.up)("poll-element");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",D,[(0,i._)("div",L,"Страница "+(0,m.zw)(n.currenPageNumber),1)]),(0,i._)("div",V,[(0,i._)("input",{type:"text",class:"comment__input",placeholder:"Комментарий к странице",value:n.currenPage.pageComment,onInput:e[0]||(e[0]=(...t)=>l.editComment&&l.editComment(...t))},null,40,N)]),l.hasPollElements?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",C,x)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.currenPage.pollList,((t,e)=>((0,i.wg)(),(0,i.j4)(p,{pollPageId:n.currenPage.id,pollItemId:t.id,pollItemType:t.type,pollItemName:t.typeName,pollItemData:t.data,key:t.id,pollNumber:e},null,8,["pollPageId","pollItemId","pollItemType","pollItemName","pollItemData","pollNumber"])))),128))],64)}const j={class:"poll-item"},E={class:"poll-item__head"},Z={class:"poll-item__name"},R={class:"poll-item__num"},z={class:"poll-item__title"};function B(t,e,n,o,a,l){const p=(0,i.up)("editor-component"),r=(0,i.up)("choise-variant"),s=(0,i.up)("ranging");return(0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",E,[(0,i._)("div",Z,[(0,i._)("div",R,(0,m.zw)(l.indexNumber),1),(0,i._)("div",z,(0,m.zw)(n.pollItemName),1)]),(0,i._)("button",{class:"poll-remove",onClick:e[0]||(e[0]=(...t)=>l.removePoll&&l.removePoll(...t))})]),(0,i.Wm)(p,{pollItemId:n.pollItemId,pollPageId:n.pollPageId,editorValue:n.pollItemData.editorValue},null,8,["pollItemId","pollPageId","editorValue"]),l.isOptionsNeeded?((0,i.wg)(),(0,i.j4)(r,{key:0,pollPageId:n.pollPageId,pollItemId:n.pollItemId,optionsData:n.pollItemData.optionsData,inputsType:l.inputsType},null,8,["pollPageId","pollItemId","optionsData","inputsType"])):(0,i.kq)("",!0),"ranging"===n.pollItemType?((0,i.wg)(),(0,i.j4)(s,{key:1,pollPageId:n.pollPageId,pollItemId:n.pollItemId,optionsData:n.pollItemData.optionsData},null,8,["pollPageId","pollItemId","optionsData"])):(0,i.kq)("",!0)])}const H=(0,i._)("div",{class:"editor-descr"},"Текст вопроса",-1),Y={class:"editor-wrapper"},q=(0,i._)("hr",null,null,-1);function K(t,e,n,o,a,l){const p=(0,i.up)("QuillEditor");return(0,i.wg)(),(0,i.iD)("div",null,[H,(0,i._)("div",Y,[(0,i.Wm)(p,{content:a.editorValueInComponent,"onUpdate:content":e[0]||(e[0]=t=>a.editorValueInComponent=t)},null,8,["content"])]),q])}var W=n(6149),$={props:{pollPageId:{type:[Number,String]},pollItemId:{type:[Number,String]},editorValue:{type:Object}},data(){return{editorValueInComponent:""}},methods:{...(0,P.OI)(["setSinglePollEditorValue"])},watch:{editorValueInComponent(t,e){if(""===e)return;const n=this.pollPageId,o=this.pollItemId;this.setSinglePollEditorValue({pollPageId:n,pollItemId:o,editorValue:t})}},mounted(){this.editorValueInComponent=new W.iT(this.editorValue)}};const J=(0,_.Z)($,[["render",K]]);var M=J;const Q=(0,i._)("div",{class:"editor-descr"},"Варианты",-1);function F(t,e,n,o,a,l){const p=(0,i.up)("answer-option");return(0,i.wg)(),(0,i.iD)(i.HY,null,[Q,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.optionsData.optionsList,(t=>((0,i.wg)(),(0,i.j4)(p,{key:t.id,variantData:t,inputsType:n.inputsType,currentAnswerIdList:n.optionsData.currentAnswerId,showRemoveBtn:l.permissionToRemoveOption,onSelectVariant:l.selectVariant,onEditVariant:e=>l.editVariant(e,t.id),onRemoveVariant:l.removeVariant},null,8,["variantData","inputsType","currentAnswerIdList","showRemoveBtn","onSelectVariant","onEditVariant","onRemoveVariant"])))),128)),l.permissionToAddOption?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn red-btn",onClick:e[0]||(e[0]=(...t)=>l.addOption&&l.addOption(...t))}," Добавить вариант ")):(0,i.kq)("",!0)],64)}const U={class:"variant-item"},G={class:"variant-item__wrapper"},X={class:"variant-item__label"},tt=["value"],et={class:"custom-cb"},nt=["type","checked"],ot=(0,i._)("span",{class:"custom-cb__text"},"Правильный ответ",-1);function it(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)("div",U,[(0,i._)("div",G,[(0,i._)("label",X,[(0,i._)("input",{type:"text",class:"variant-item__filed",value:n.variantData.value,placeholder:"Вариант ответа",onInput:e[0]||(e[0]=e=>t.$emit("editVariant",e))},null,40,tt)]),(0,i._)("label",et,[(0,i._)("input",{type:n.inputsType,class:"custom-cb__checkbox",checked:l.isCurrentVariant,onInput:e[1]||(e[1]=e=>t.$emit("selectVariant",n.variantData.id))},null,40,nt),ot])]),(0,i._)("button",{class:(0,m.C_)(["variant-item__remove",{"cant-remove":!n.showRemoveBtn}]),onClick:e[2]||(e[2]=(...t)=>l.removeOption&&l.removeOption(...t))},null,2)])}var at={props:{inputsType:{type:String},currentAnswerIdList:{type:Array},variantData:{type:Object},showRemoveBtn:{type:Boolean}},data(){return{}},computed:{isCurrentVariant(){return this.currentAnswerIdList.includes(this.variantData.id)}},methods:{removeOption(){this.showRemoveBtn&&this.$emit("removeVariant",this.variantData.id)}}};const lt=(0,_.Z)(at,[["render",it]]);var pt=lt,rt={components:{AnswerOption:pt},props:{pollPageId:{type:[Number,String]},pollItemId:{type:[Number,String]},optionsData:{type:Object},inputsType:{type:String}},computed:{permissionToAddOption(){const t=this.optionsData.maxOptionsLength,e=this.optionsData.optionsList.length;return t>=e},permissionToRemoveOption(){const t=this.optionsData.minOptionsLength,e=this.optionsData.optionsList.length;return e>t}},methods:{...(0,P.OI)(["selectOptionInPoll","editOptionInPoll","addOptionInPoll","removeOptionInPoll"]),addOption(){const{pollItemId:t,pollPageId:e}=this;this.addOptionInPoll({pollPageId:e,pollItemId:t})},selectVariant(t){const{pollItemId:e,pollPageId:n,inputsType:o}=this;this.selectOptionInPoll({pollPageId:n,pollItemId:e,optionId:t,inputsType:o})},removeVariant(t){const{pollItemId:e,pollPageId:n}=this;this.removeOptionInPoll({pollPageId:n,pollItemId:e,optionId:t})},editVariant(t,e){const{pollItemId:n,pollPageId:o}=this,i=t.target.value.trim();this.editOptionInPoll({pollPageId:o,pollItemId:n,optionId:e,optionValue:i})}}};const st=(0,_.Z)(rt,[["render",F]]);var dt=st;const ut={class:"variant-item__position"},ct={class:"variant-item"},mt={class:"variant-item__wrapper"},It={class:"variant-item__label"},gt=["value","onInput"],vt=["onClick"];function ht(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.optionsData.optionsList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"variant-item__container",key:t.id},[(0,i._)("div",ut,(0,m.zw)(e+1),1),(0,i._)("div",ct,[(0,i._)("div",mt,[(0,i._)("label",It,[(0,i._)("input",{type:"text",class:"variant-item__filed",value:t.value,onInput:e=>l.editVariant(e,t.id),placeholder:"Вариант ответа"},null,40,gt)])]),(0,i._)("button",{class:"variant-item__remove",onClick:e=>l.removeVariant(t.id)},null,8,vt)])])))),128)),l.permissionToAddOption?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn red-btn",onClick:e[0]||(e[0]=(...t)=>l.addOption&&l.addOption(...t))}," Добавить вариант ")):(0,i.kq)("",!0)],64)}var Pt={props:{pollPageId:{type:[Number,String]},pollItemId:{type:[Number,String]},optionsData:{type:Object}},computed:{permissionToAddOption(){const t=this.optionsData.maxOptionsLength,e=this.optionsData.optionsList.length;return t>=e},permissionToRemoveOption(){const t=this.optionsData.minOptionsLength,e=this.optionsData.optionsList.length;return e>t}},methods:{...(0,P.OI)(["editOptionInPoll","addOptionInPoll","removeOptionInPoll"]),addOption(){const{pollItemId:t,pollPageId:e}=this;this.addOptionInPoll({pollPageId:e,pollItemId:t})},removeVariant(t){const{pollItemId:e,pollPageId:n}=this;this.removeOptionInPoll({pollPageId:n,pollItemId:e,optionId:t})},editVariant(t,e){const{pollItemId:n,pollPageId:o}=this,i=t.target.value.trim();this.editOptionInPoll({pollPageId:o,pollItemId:n,optionId:e,optionValue:i})}}};const yt=(0,_.Z)(Pt,[["render",ht]]);var _t=yt,Ot={components:{EditorComponent:M,ChoiseVariant:dt,Ranging:_t},props:{pollPageId:{type:[Number,String]},pollItemId:{type:[Number,String]},pollItemType:{type:String},pollItemName:{type:String},pollItemData:{type:Object},pollNumber:{type:Number}},data(){return{}},computed:{indexNumber(){return this.pollNumber+1},isOptionsNeeded(){return["single-choice","drop-down-list","multiple-drop-down-list","multiple-choice"].includes(this.pollItemType)},inputsType(){return"single-choice"===this.pollItemType||"drop-down-list"===this.pollItemType?"radio":"multiple-drop-down-list"===this.pollItemType||"multiple-choice"===this.pollItemType?"checkbox":void 0}},methods:{...(0,P.OI)(["removePollInState"]),removePoll(){const t=this.pollPageId,e=this.pollItemId;this.removePollInState({pollPageId:t,pollId:e})}},mounted(){}};const wt=(0,_.Z)(Ot,[["render",B]]);var bt=wt,ft={props:{currenPage:{type:Object},currenPageNumber:{type:[String,Number]}},components:{PollElement:bt},computed:{hasPollElements(){return this.currenPage.pollList.length>0}},methods:{...(0,P.OI)(["editPageComment"]),editComment(t){const e=this.currenPage.id,n=t.target.value.trim();this.editPageComment({pollPageId:e,commentValue:n})}}};const Dt=(0,_.Z)(ft,[["render",A],["__scopeId","data-v-439a458c"]]);var Lt=Dt;const Vt={class:"polls-pagination"},Nt=["onClick"];function Ct(t,e,n,o,a,l){return(0,i.wg)(),(0,i.iD)("div",Vt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.pollPagesList,((e,o)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,m.C_)(["polls-page-btn",{active:e.id===n.currentPageId}]),key:e.id,onClick:n=>t.setCurrentPollPage(e.id)},(0,m.zw)(o+1),11,Nt)))),128))])}var Tt={props:{pollPagesList:{type:Array},currentPageId:{type:[String,Number]}},methods:{...(0,P.OI)(["setCurrentPollPage"])}};const kt=(0,_.Z)(Tt,[["render",Ct]]);var St=kt,xt={components:{PollPage:Lt,SidebarItem:w,PollsPagesPagination:St},computed:{...(0,P.rn)({currentPageId:t=>t.currentPageId,pollPagesList:t=>t.pollPages,pollTypesList:t=>t.pollTypesList}),currentPollPage(){return this.pollPagesList.find((t=>t.id===this.currentPageId))},currenPageNumber(){const t=this.pollPagesList.findIndex((t=>t.id===this.currentPageId));return t+1}}};const At=(0,_.Z)(xt,[["render",c]]);var jt=At,Et={name:"App",components:{InnerContent:jt},data(){return{}},computed:{},methods:{}};const Zt=(0,_.Z)(Et,[["render",a]]);var Rt=Zt,zt=(n(7658),n(3029));const Bt=[{type:"single-choice",typeName:"Одиночный выбор",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{type:"drop-down-list",typeName:"Выпадающий список",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{type:"multiple-drop-down-list",typeName:"Множественный вып. список",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{type:"multiple-choice",typeName:"Множественный выбор",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{type:"ranging",typeName:"Ранжирование",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{type:"range-selection",typeName:"Выбор диапазона",data:{editorValue:{}}},{type:"pair-ranking",typeName:"Парное ранжирование",data:{editorValue:{}}},{type:"matrix",typeName:"Матрица",data:{editorValue:{}}},{type:"free-response-matrix",typeName:"Матрица свободных ответов",data:{editorValue:{}}},{type:"full-name",typeName:"ФИО",data:{editorValue:{}}},{type:"phone-number",typeName:"Номер телефона",data:{editorValue:{}}},{type:"date",typeName:"Дата",data:{editorValue:{}}},{type:"selecting-date-range",typeName:"Выбор промежутка дат",data:{editorValue:{}}},{type:"email",typeName:"Эл. почта",data:{editorValue:{}}}];var Ht=Bt;function Yt(t,e,n){const o=t.pollPages.find((t=>t.id===e));return o.pollList.find((t=>t.id===n))}var qt=(0,P.MT)({state:{pollTypesList:Ht,currentPageId:"1",pollPages:[{id:"1",pageComment:"Комментарий к первой странице",pollList:[{id:"1",type:"single-choice",typeName:"Одиночный выбор",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{id:"2",type:"multiple-drop-down-list",typeName:"Множественный вып. список",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{id:"3",type:"ranging",typeName:"Ранжирование",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,optionsList:[{id:"1",value:"123"},{id:"2",value:"321"}]}}}]},{id:"2",pageComment:"Комментарий ко второй странице",pollList:[{id:"2",type:"multiple-drop-down-list",typeName:"Множественный вып. список",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,currentAnswerId:["1"],optionsList:[{id:"1",value:""},{id:"2",value:""}]}}},{id:"3",type:"ranging",typeName:"Ранжирование",data:{editorValue:{},optionsData:{minOptionsLength:2,maxOptionsLength:10,optionsList:[{id:"1",value:"123"},{id:"2",value:"321"}]}}}]},{id:"3",pageComment:"Комментарий к третьей странице, тут пока пусто",pollList:[]}]},getters:{},mutations:{setCurrentPollPage(t,e){t.currentPageId=e},addPollInState(t,e){const n=t.pollPages.find((e=>e.id===t.currentPageId)),o=t.pollTypesList.find((t=>t.type===e)),i=JSON.parse(JSON.stringify(o));i.id=(0,zt.Z)(),n.pollList.push(i)},setSinglePollEditorValue(t,{pollPageId:e,pollItemId:n,editorValue:o}){const i=Yt(t,e,n);i&&(i.data={...i.data,editorValue:o})},editPageComment(t,{pollPageId:e,commentValue:n}){const o=t.pollPages.find((t=>t.id===e));o.pageComment=n},removePollInState(t,{pollPageId:e,pollId:n}){const o=t.pollPages.find((t=>t.id===e));o.pollList=o.pollList.filter((t=>t.id!==n))},addOptionInPoll(t,{pollItemId:e,pollPageId:n}){const o=Yt(t,n,e),i={id:`${(0,zt.Z)()}`,value:""};o.data.optionsData.optionsList.push(i)},selectOptionInPoll(t,{pollPageId:e,pollItemId:n,optionId:o,inputsType:i}){const a=Yt(t,e,n);a&&("radio"===i&&(a.data.optionsData.currentAnswerId=[o]),"checkbox"===i&&(a.data.optionsData.currentAnswerId.includes(o)?a.data.optionsData.currentAnswerId=a.data.optionsData.currentAnswerId.filter((t=>t!==o)):a.data.optionsData.currentAnswerId.push(o)))},removeOptionInPoll(t,{pollPageId:e,pollItemId:n,optionId:o}){const i=Yt(t,e,n),a=i.data.optionsData.optionsList.length;if(!(a<=2)){if(i.data.optionsData.currentAnswerId){const t=i.data.optionsData.currentAnswerId[0];t===o&&(i.data.optionsData.currentAnswerId[0]=i.data.optionsData.optionsList[0].id)}i.data.optionsData.optionsList=i.data.optionsData.optionsList.filter((t=>t.id!==o))}},editOptionInPoll(t,{pollPageId:e,pollItemId:n,optionId:o,optionValue:i}){const a=Yt(t,e,n);if(a){const t=a.data.optionsData.optionsList.find((t=>t.id===o));t.value=i}}},actions:{},modules:{}});const Kt={modules:{toolbar:[["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["clean"]]},placeholder:"",theme:"snow"};W.Bn.props.globalOptions.default=()=>Kt;(0,o.ri)(Rt).component("QuillEditor",W.Bn).use(qt).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,a){if(!o){var l=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var p=!0,r=0;r<o.length;r++)(!1&a||l>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[r])}))?o.splice(r--,1):(p=!1,a<l&&(l=a));if(p){t.splice(d--,1);var s=i();void 0!==s&&(e=s)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,l=o[0],p=o[1],r=o[2],s=0;if(l.some((function(e){return 0!==t[e]}))){for(i in p)n.o(p,i)&&(n.m[i]=p[i]);if(r)var d=r(n)}for(e&&e(o);s<l.length;s++)a=l[s],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},o=self["webpackChunksurvey_constructor"]=self["webpackChunksurvey_constructor"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9210)}));o=n.O(o)})();
//# sourceMappingURL=app.aceb2b4e.js.map